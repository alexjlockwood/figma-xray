{"version":3,"sources":["icons/ComponentIcon.svg","icons/PageIcon.svg","components/Elements.tsx","components/PersonalTokenForm.tsx","components/FileIDForm.tsx","components/Report.tsx","api.tsx","analysis/analysis.tsx","components/File.tsx","components/App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","__webpack_require__","p","Input","styled","input","_templateObject","Label","label","_templateObject2","Field","div","_templateObject3","Button","button","_templateObject4","props","secondary","css","_templateObject5","FormContainer","PersonalTokenForm_templateObject","Summary","_ref2","personalToken","onClick","react_default","a","createElement","SummaryContainer","PersonalTokenChangeLink","substr","PersonalTokenForm_templateObject2","span","PersonalTokenForm_templateObject3","Form","_ref3","onChange","onBlur","useEffect","current","focus","useRef","htmlFor","autoComplete","spellCheck","name","value","e","target","ref","placeholder","PersonalTokenForm","_ref","_useState","useState","_useState2","Object","slicedToArray","expanded","setExpanded","FileIDForm_templateObject","FileIDForm","fileID","setFileID","FileIDForm_FormContainer","onSubmit","preventDefault","type","Section","subtitle","components","imageData","SectionContainer","SectionName","SectionSubtitle","ComponentsList","length","map","component","Component","key","id","expandInstances","setExpandInstances","ComponentContainer","ComponentPath","path","join","ComponentName","src","componentIcon","ComponentImageContainer","srcSet","sizes","alt","ComponentCount","Count","count","InstanceList","instances","_ref4","InstanceListContainer","ins","i","pageIcon","Report_templateObject","LintErrors","_ref5","lintErrors","LintError","location","message","_ref6","h2","Report_templateObject2","Report_templateObject3","section","Report_templateObject4","Report_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","Report","fileData","summary","LIBRARY","DOCUMENT","DELETED_FROM_DOCUMENT","fetchDocument","Promise","resolve","reject","Figma","personalAccessToken","file","then","data","catch","fetchImages","nodeIDs","fileImages","ids","scale","format","images","findAllInstances","node","children","reduce","prev","concat","findInstancesOfComponent","componentId","filter","_","getPathOfNodeWithId","_getPathOfNodeWithId","arguments","undefined","result","slice","componentSummary","documentResponse","allComponents","keys","forEach","document","componentReportFromComponents","componentsWithStats","instance","File","setFileData","_useState3","_useState4","setSummary","_useState5","_useState6","error","setError","_useState7","_useState8","loading","setLoading","_useState9","_useState10","setImageData","_useState11","_useState12","asyncToGenerator","regenerator_default","mark","_callee","_summary","componentIds","wrap","_context","next","sent","stop","apply","this","loadEverything","request","DocumentName","DocumentLink","href","DocumentNameLabel","LoadingStatus","components_Report","Fragment","NONE","LOADING_DOCUMENT","LOADING_IMAGES","LINTING","h1","File_templateObject","File_templateObject2","File_templateObject3","Container","App_templateObject","App","setPersonalToken","handleURLChange","fileIDHashMatch","window","hash","match","handleFileIDChange","history","pushState","savedPersonalToken","localStorage","getItem","onpopstate","components_PersonalTokenForm","setItem","components_FileIDForm","BackLink","App_templateObject2","Boolean","hostname","GlobalStyle","createGlobalStyle","src_templateObject","ReactDOM","render","dist","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fb8c9af0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ComponentIcon.483685cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/PageIcon.6e637937.svg\";","import styled, { css } from \"styled-components\";\n\nexport const Input = styled.input`\n  padding: 0.75em;\n  border-radius: 0.25em;\n  border: 1px solid #ccc;\n  width: 100%;\n  font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n    monospace;\n`;\nexport const Label = styled.label`\n  display: block;\n  font-weight: 700;\n  margin-bottom: 0.5em;\n`;\nexport const Field = styled.div`\n  margin-bottom: 1em;\n`;\n\ntype ButtonProps = {\n  secondary?: boolean;\n};\n\nexport const Button = styled.button<ButtonProps>`\n  padding: 0.75em 1em;\n  font-weight: bold;\n  border-radius: 0.25em;\n  background-color: #123;\n  color: white;\n  border: 1px solid #123;\n  ${props =>\n    props.secondary &&\n    css`\n      background-color: transparent;\n      color: #123;\n    `}\n`;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { Field, Label, Input, Button } from \"./Elements\";\nimport styled from \"styled-components\";\n\nexport const FormContainer = styled.div`\n  margin-bottom: 40px;\n`;\n\ntype OnSubmit = (personalToken: string) => void;\n\ntype FormProps = {\n  onChange: OnSubmit;\n  personalToken: string | null;\n};\n\ntype InnerFormProps = {\n  onChange: OnSubmit;\n  personalToken: string | null;\n  onBlur: () => void;\n};\n\nfunction PersonalTokenForm({ onChange, personalToken }: FormProps) {\n  const [expanded, setExpanded] = useState<boolean>(false);\n  return (\n    <FormContainer>\n      {expanded ? (\n        <Form\n          onChange={onChange}\n          personalToken={personalToken}\n          onBlur={() => setExpanded(false)}\n        />\n      ) : (\n        <Summary\n          personalToken={personalToken}\n          onClick={() => setExpanded(true)}\n        />\n      )}\n    </FormContainer>\n  );\n}\n\nfunction Summary({\n  personalToken,\n  onClick\n}: {\n  personalToken: string | null;\n  onClick: () => void;\n}) {\n  return (\n    <SummaryContainer>\n      Personal Token:{\" \"}\n      <PersonalTokenChangeLink onClick={onClick}>\n        {personalToken ? personalToken.substr(0, 5) + \"...\" : \"Not set\"}\n      </PersonalTokenChangeLink>\n    </SummaryContainer>\n  );\n}\n\nconst SummaryContainer = styled.div`\n  color: #999;\n`;\n\nconst PersonalTokenChangeLink = styled.span`\n  text-decoration: underline;\n  /* font-family: monospace; */\n  cursor: pointer;\n`;\n\nfunction Form({ onChange, personalToken, onBlur }: InnerFormProps) {\n  useEffect(() => {\n    input && input.current && input.current.focus();\n  }, []);\n  const input = useRef<HTMLInputElement>(null);\n  return (\n    <Field>\n      <Label htmlFor=\"personalToken\">Personal Token</Label>\n      <Input\n        autoComplete=\"off\"\n        spellCheck={false}\n        name=\"personalToken\"\n        value={personalToken || \"\"}\n        onChange={e => onChange(e.target.value)}\n        onBlur={onBlur}\n        ref={input}\n        placeholder=\"e.g. 12345-12345678-1234-1234-1234-123456789012\"\n      />\n      <p>\n        Generate a token in Figma's Account Settings page and paste it here.\n      </p>\n    </Field>\n  );\n}\n\nexport default PersonalTokenForm;\n","import React, { useState, SyntheticEvent } from \"react\";\nimport { Field, Label, Input, Button } from \"./Elements\";\nimport styled from \"styled-components\";\n\nexport const FormContainer = styled.div`\n  margin-bottom: 40px;\n`;\n\ntype OnSubmit = (personalToken: string) => void;\n\ntype FormProps = {\n  onSubmit: OnSubmit;\n};\n\nfunction FileIDForm(props: FormProps) {\n  const [fileID, setFileID] = useState(\"\");\n\n  function handleSubmit(e: SyntheticEvent) {\n    e.preventDefault();\n    props.onSubmit(fileID);\n  }\n\n  return (\n    <FormContainer>\n      <form onSubmit={handleSubmit}>\n        <Field>\n          <Label htmlFor=\"personalToken\">File ID</Label>\n          <Input\n            autoComplete=\"off\"\n            spellCheck={false}\n            name=\"personalToken\"\n            value={fileID}\n            onChange={e => setFileID(e.target.value)}\n            placeholder=\"e.g. AaBbCcDdEeFfGg12345ABCDE\"\n          />\n          <p>Use the string of characters inside a Figma file's URL.</p>\n        </Field>\n        <Field>\n          <Button type=\"submit\">X-Ray this file</Button>\n        </Field>\n      </form>\n    </FormContainer>\n  );\n}\n\nexport default FileIDForm;\n","import React, { useState } from \"react\";\nimport { FileData, ImageData } from \"../api\";\nimport componentIcon from \"../icons/ComponentIcon.svg\";\nimport pageIcon from \"../icons/PageIcon.svg\";\n\nimport {\n  ComponentSummary,\n  ComponentWithStats,\n  Path\n} from \"../analysis/analysis\";\nimport styled from \"styled-components\";\n\ntype ReportProps = {\n  fileID: string | null;\n  fileData: FileData;\n  summary: ComponentSummary | null;\n  imageData: ImageData;\n  lintErrors: any;\n};\n\ntype SectionProps = {\n  name: string;\n  subtitle?: string;\n  components: Array<ComponentWithStats>;\n  imageData: ImageData;\n};\n\ntype ComponentProps = {\n  component: ComponentWithStats;\n  imageData: ImageData;\n};\n\nfunction Report({\n  fileID,\n  fileData,\n  summary,\n  imageData,\n  lintErrors\n}: ReportProps) {\n  if (fileData === null || summary === null || fileID === null) {\n    return null;\n  }\n\n  return (\n    <div>\n      <LintErrors lintErrors={lintErrors} />\n      <Section\n        name=\"Components from the Library\"\n        subtitle=\"These are the components you've used from the team library.\"\n        components={summary.LIBRARY}\n        imageData={imageData}\n      />\n      <Section\n        name=\"Components in the Document\"\n        subtitle=\"If they are never used, consider deleting.\"\n        components={summary.DOCUMENT}\n        imageData={imageData}\n      />\n      <Section\n        name=\"Deleted Components\"\n        subtitle=\"Undiscoverable components. Consider restoring the master, or replace the instance.\"\n        components={summary.DELETED_FROM_DOCUMENT}\n        imageData={imageData}\n      />\n    </div>\n  );\n}\n\nfunction Section({ name, subtitle, components, imageData }: SectionProps) {\n  return (\n    <SectionContainer>\n      <SectionName>{name}</SectionName>\n      <SectionSubtitle>{subtitle}</SectionSubtitle>\n      <ComponentsList>\n        {components.length > 0\n          ? components.map(component => (\n              <Component\n                key={component.id}\n                component={component}\n                imageData={imageData}\n              />\n            ))\n          : \"None.\"}\n      </ComponentsList>\n    </SectionContainer>\n  );\n}\n\nfunction Component({ component, imageData }: ComponentProps) {\n  const [expandInstances, setExpandInstances] = useState<boolean>(false);\n\n  return (\n    <ComponentContainer>\n      <ComponentPath>\n        {component.path && component.path.join(\" > \")}\n      </ComponentPath>\n      <ComponentName>\n        <img src={componentIcon} /> {component.name}\n      </ComponentName>\n      <ComponentImageContainer>\n        <img\n          srcSet={imageData ? imageData[component.id] + \" 2w\" : \"\"}\n          sizes=\"1px\"\n          src={imageData ? imageData[component.id] : \"\"}\n          alt=\"\"\n        />\n      </ComponentImageContainer>\n      <ComponentCount onClick={() => setExpandInstances(!expandInstances)}>\n        <Count>{component.count}</Count>{\" \"}\n        {component.count === 0\n          ? \"instances\"\n          : component.count === 1\n          ? \"instance...\"\n          : \"instances...\"}\n      </ComponentCount>\n      {expandInstances ? (\n        <InstanceList instances={component.instances} />\n      ) : null}\n    </ComponentContainer>\n  );\n}\n\nfunction InstanceList({ instances }: { instances: Array<{ path: Path }> }) {\n  return (\n    <InstanceListContainer>\n      {instances.map(\n        (ins, i) =>\n          ins.path && (\n            <div>\n              <img src={pageIcon} /> {ins.path.join(\" > \")}\n            </div>\n          )\n      )}\n    </InstanceListContainer>\n  );\n}\n\nconst InstanceListContainer = styled.div`\n  font-size: 85%;\n  margin-top: 10px;\n  margin-left: 5px;\n`;\n\nfunction LintErrors({ lintErrors }: { lintErrors: Array<any> | null }) {\n  return (\n    <SectionContainer>\n      <SectionName>Lint Errors</SectionName>\n      {lintErrors ? (\n        <div>\n          {lintErrors.map((e: any, i: number) => (\n            <LintError key={i} location={e.location} message={e.message} />\n          ))}\n        </div>\n      ) : (\n        <div>None.</div>\n      )}\n    </SectionContainer>\n  );\n}\n\nfunction LintError({\n  location,\n  message\n}: {\n  location: string;\n  message: string;\n}) {\n  return (\n    <div>\n      {location} &mdash; {message}\n    </div>\n  );\n}\n\nconst SectionName = styled.h2`\n  font-weight: 700;\n  margin: 10px 0 10px 0;\n`;\nconst SectionSubtitle = styled.p`\n  margin: 10px 0 20px 0;\n`;\nconst SectionContainer = styled.section`\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  margin-top: 20px;\n`;\nconst ComponentContainer = styled.div`\n  margin-bottom: 20px;\n  margin-right: 20px;\n  padding: 20px;\n  border-radius: 3px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  box-shadow: rgba(25, 25, 25, 0.06) 0px 7px 15px 0px;\n`;\nconst ComponentsList = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst ComponentImageContainer = styled.div`\n  margin: 20px 0;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  img {\n    max-width: 200px;\n    max-height: 200px;\n  }\n`;\nconst ComponentPath = styled.div`\n  color: #999;\n  font-size: 85%;\n  margin-bottom: 4px;\n`;\nconst ComponentName = styled.div`\n  font-weight: bold;\n  color: #7b67fb;\n`;\nconst ComponentCount = styled.div`\n  cursor: pointer;\n  font-size: 85%;\n`;\nconst Count = styled.span`\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #ddd;\n  font-weight: bold;\n  padding: 0.25em 0.75em;\n`;\n\nexport default Report;\n","import * as Figma from \"figma-js\";\n\nexport type FileData = Figma.FileResponse | null;\nexport type Images = {\n  [key: string]: string;\n};\nexport type ImageData = Images | null;\n\nexport function fetchDocument(\n  fileID: string,\n  personalToken: string\n): Promise<FileData> {\n  const p = new Promise<FileData>((resolve, reject) => {\n    if (!fileID || !personalToken) {\n      reject();\n      return;\n    }\n    const client = Figma.Client({\n      personalAccessToken: personalToken\n    });\n    client\n      .file(fileID)\n      .then(({ data }) => {\n        resolve(data);\n      })\n      .catch(reject);\n  });\n  return p;\n}\n\nexport function fetchImages(\n  fileID: string,\n  personalToken: string,\n  nodeIDs: Array<string>\n): Promise<Images> {\n  const p = new Promise<Images>((resolve, reject) => {\n    if (!fileID || !personalToken) {\n      reject();\n      return;\n    }\n    const client = Figma.Client({\n      personalAccessToken: personalToken\n    });\n    client\n      .fileImages(fileID, { ids: nodeIDs, scale: 2, format: \"png\" })\n      .then(({ data }) => {\n        resolve(data.images);\n      })\n      .catch(reject);\n  });\n  return p;\n}\n","import { FileResponse, Node, Component, Instance } from \"figma-js\";\n\n// export function getCommentFrame(comment, data) {\n//     const rootComment = isReply(comment) ?\n//         findCommentById(data.comments, comment.parent_id)\n//         : comment;\n//     return findChildById(data.document, rootComment.client_meta.node_id);\n// }\n\n// function findCommentById(comments, id) {\n//     return comments.find(_ => _.id === id);\n// }\n\n// function getCommentTags(comment) {\n//     return comment.message.match(/#\\w+/g) || [];\n// }\n\n// function isReply(comment) {\n//     return comment.client_meta === null;\n// }\n\n// function findChildById(node:Node, id:string): Node | false {\n//     // base case\n//     if (node.id === id) {\n//         return node;\n//     }\n//     // error case\n//     if (!(\"children\" in node)) {\n//         return false;\n//     }\n//     // recursion\n//     for (let i = 0; i < node.children.length; i += 1) {\n//         let result = findChildById(node.children[i], id);\n//         if (result !== false) {\n//             return result;\n//         }\n//     }\n//     return false;\n// }\n\n// Note this will not descend inside Instances to look for nested instances.\n// But it will find instances inside a component, so long as they themselves are not inside other instances.\nfunction findAllInstances(node: Node): Array<Instance> {\n  // base case\n  if (node.type === \"INSTANCE\") {\n    return [node];\n  }\n  // error case\n  if (!(\"children\" in node)) {\n    return [];\n  }\n  // recursion\n  return flatten(node.children.map(findAllInstances));\n}\n\nfunction findInstancesOfComponent(node: Node, componentId: string) {\n  return findAllInstances(node).filter(_ => _.componentId === componentId);\n}\n\nfunction getPathOfNodeWithId(\n  node: Node,\n  id: string,\n  path: Array<string> = []\n): Path {\n  const p = _getPathOfNodeWithId(node, id, path);\n  return p ? p.slice(1) : false;\n}\n\nfunction _getPathOfNodeWithId(\n  node: Node,\n  id: string,\n  path: Array<string> = []\n): Path {\n  const name = node.name;\n  // base case\n  if (node.id === id) {\n    return path;\n  }\n  // error case\n  if (!(\"children\" in node)) {\n    return false;\n  }\n  // recursion\n  for (let i = 0; i < node.children.length; i += 1) {\n    let result = _getPathOfNodeWithId(node.children[i], id, path.concat(name));\n    if (result !== false) {\n      return result;\n    }\n  }\n  return false;\n}\n\n// iterate through instances and build up a map of components with counts, path etc.\n// function componentReportFromInstances(documentResponse) {\n//     const allInstances = findAllInstances(documentResponse.document);\n//     const allComponents = documentResponse.components;\n\n//     return allInstances.reduce((prev, _) => {\n//         if (!prev[_.componentId]) {\n//             const component = allComponents[_.componentId];\n//             const componentPath = getPathOfNodeWithId(documentResponse.document, _.componentId);\n//             const meta = {\n//                 count: 0,\n//                 path: componentPath\n//             };\n//             prev[_.componentId] = Object.assign({}, component, meta);\n//         }\n//         prev[_.componentId].count++;\n//         return prev;\n//     }, {});\n// }\n\n// Another way of doing the above - iterate through components and find all instances.\n// This onefinds unused components unlike the one above so I favour this.\n\nexport type Path = Array<string> | false;\n\nexport type ComponentReport = {\n  [componentId: string]: {\n    count: Number;\n    path: Path;\n    component: Component;\n  };\n};\n\nexport function componentReportFromComponents(\n  documentResponse: FileResponse\n): ComponentReport {\n  const allComponents = documentResponse.components;\n  let components: ComponentReport = {};\n  Object.keys(allComponents).forEach(id => {\n    components[id] = {\n      component: allComponents[id],\n      count: findInstancesOfComponent(documentResponse.document, id).length,\n      path: getPathOfNodeWithId(documentResponse.document, id)\n    };\n  });\n  return components;\n}\n\nexport type ComponentWithStats = {\n  id: string;\n  path: Path;\n  name: string;\n  type: \"LIBRARY\" | \"DOCUMENT\" | \"DELETED_FROM_DOCUMENT\";\n  count: Number;\n  instances: Array<{ path: Path }>;\n};\n\nexport type ComponentSummary = {\n  LIBRARY: Array<ComponentWithStats>;\n  DOCUMENT: Array<ComponentWithStats>;\n  DELETED_FROM_DOCUMENT: Array<ComponentWithStats>;\n};\n\nexport function componentSummary(\n  documentResponse: FileResponse\n): ComponentSummary {\n  const components = componentReportFromComponents(documentResponse);\n  const componentIds = Object.keys(components);\n\n  const componentsWithStats: ComponentWithStats[] = componentIds\n    .map(\n      (id: string): ComponentWithStats => ({\n        id: id,\n        path: components[id].path,\n        name: components[id].component.name,\n        type: components[id].component.key\n          ? \"LIBRARY\"\n          : components[id].path\n          ? \"DOCUMENT\"\n          : \"DELETED_FROM_DOCUMENT\",\n        count: components[id].count,\n        instances: findInstancesOfComponent(documentResponse.document, id).map(\n          instance => ({\n            path: getPathOfNodeWithId(documentResponse.document, instance.id)\n          })\n        )\n      })\n    )\n    .filter(_ => !(_.type === \"LIBRARY\" && _.count === 0));\n  // ignore library ones with zero usage for now (probably means they are used inside other library components?)\n\n  return {\n    LIBRARY: componentsWithStats.filter(_ => _.type === \"LIBRARY\"),\n    DOCUMENT: componentsWithStats.filter(_ => _.type === \"DOCUMENT\"),\n    DELETED_FROM_DOCUMENT: componentsWithStats.filter(\n      _ => _.type === \"DELETED_FROM_DOCUMENT\"\n    )\n  };\n}\n\nfunction flatten<T>(arr: Array<Array<T>>): Array<T> {\n  return arr.reduce((prev, current) => prev.concat(current), []);\n}\n\n// function byCreated(a:Comment,b:Comment) {\n//     if (a.created_at < b.created_at) return -1;\n//     if (a.created_at > b.created_at) return 1;\n//     return 0;\n// }\n\n// function generateFrameURL(frame:FrameBase, {FILE_ID}) {\n//     return `https://www.figma.com/proto/${FILE_ID}/?node-id=${encodeURIComponent(frame.id)}`;\n// }\n\n// function toCSV(rows) {\n//     return rows.map(row => row.map(c=>c.replace(/\"/g,'\"\"')).map(c=>`\"${c}\"`).join(\"\\t\")).join(\"\\n\");\n// }\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Report from \"./Report\";\nimport { fetchDocument, FileData, ImageData, fetchImages } from \"../api\";\nimport { componentSummary, ComponentSummary } from \"../analysis/analysis\";\n\ntype FileProps = {\n  fileID: string;\n  personalToken: string;\n};\n\ntype LoadingStatus = \"LOADING_DOCUMENT\" | \"LOADING_IMAGES\" | \"LINTING\" | \"NONE\";\n\nexport default function File({ fileID, personalToken }: FileProps) {\n  const [fileData, setFileData] = useState<FileData>(null);\n  const [summary, setSummary] = useState<ComponentSummary | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState<LoadingStatus>(\"NONE\");\n  const [imageData, setImageData] = useState<ImageData>(null);\n  const [lintErrors, setLintErrors] = useState<any>(null);\n\n  useEffect(() => {\n    const loadEverything = async () => {\n      setLoading(\"LOADING_DOCUMENT\");\n      setFileData(null);\n      setImageData(null);\n      setError(null);\n      const fileData = await fetchDocument(fileID, personalToken);\n      setFileData(fileData);\n\n      if (fileData) {\n        const summary = componentSummary(fileData);\n        setSummary(summary);\n      }\n\n      setLoading(\"LOADING_IMAGES\");\n      const componentIds = fileData ? Object.keys(fileData.components) : [];\n      const images = await fetchImages(fileID, personalToken, componentIds);\n      setImageData(images);\n\n      setLoading(\"NONE\");\n    };\n    loadEverything().catch(e => {\n      setLoading(\"NONE\");\n      if (e.request) {\n        setError(e.message);\n      } else {\n        throw e;\n      }\n    });\n  }, [fileID, personalToken]);\n\n  return (\n    <div>\n      <DocumentName>\n        {fileData ? (\n          <DocumentLink\n            target=\"_blank\"\n            href={`https://www.figma.com/file/${fileID}`}\n          >\n            {fileData.name}\n          </DocumentLink>\n        ) : null}{\" \"}\n        <DocumentNameLabel>\n          <LoadingStatus loading={loading} error={error} />\n        </DocumentNameLabel>\n      </DocumentName>\n      {fileData ? (\n        <Report\n          fileID={fileID}\n          fileData={fileData}\n          summary={summary}\n          imageData={imageData}\n          lintErrors={lintErrors}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nfunction LoadingStatus({\n  loading,\n  error\n}: {\n  loading: LoadingStatus;\n  error: string | null;\n}) {\n  const map = {\n    NONE: null,\n    LOADING_DOCUMENT: \"Loading document...\",\n    LOADING_IMAGES: \"Loading images...\",\n    LINTING: \"Linting...\"\n  };\n  return <>{error ? error : map[loading]}</>;\n}\n\nconst DocumentName = styled.h1`\n  font-weight: 900;\n`;\nconst DocumentNameLabel = styled.span`\n  font-weight: 300;\n  color: #999;\n`;\nconst DocumentLink = styled.a`\n  color: inherit;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport PersonalTokenForm from \"./PersonalTokenForm\";\nimport FileIDForm from \"./FileIDForm\";\nimport File from \"./File\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  padding: 1em;\n`;\n\nfunction App() {\n  const [personalToken, setPersonalToken] = useState<string | null>(null);\n  const [fileID, setFileID] = useState<string | null>(null);\n\n  useEffect(() => {\n    const savedPersonalToken =\n      window.localStorage.getItem(\"personalToken\") || \"\";\n    if (savedPersonalToken) {\n      setPersonalToken(savedPersonalToken);\n    }\n\n    handleURLChange();\n    window.onpopstate = function() {\n      handleURLChange();\n    };\n  }, []);\n\n  function handleURLChange() {\n    const fileIDHashMatch = window.location.hash.match(/#\\/file\\/(\\w+)/);\n    if (fileIDHashMatch) {\n      setFileID(fileIDHashMatch[1]);\n    } else {\n      setFileID(null);\n    }\n  }\n\n  function handleTokenChange(personalToken: string) {\n    setPersonalToken(personalToken);\n    window.localStorage.setItem(\"personalToken\", personalToken);\n  }\n  function handleFileIDChange(fileID: string) {\n    setFileID(fileID);\n    if (fileID) {\n      window.history.pushState(null, \"\", `#/file/${fileID}`);\n    } else {\n      window.history.pushState(null, \"\", `#/`);\n    }\n  }\n\n  return (\n    <Container>\n      <PersonalTokenForm\n        personalToken={personalToken}\n        onChange={handleTokenChange}\n      />\n      {fileID ? null : <FileIDForm onSubmit={handleFileIDChange} />}\n      {fileID && personalToken ? (\n        <>\n          <BackLink onClick={() => handleFileIDChange(\"\")}>\n            Choose another file\n          </BackLink>\n          <File fileID={fileID} personalToken={personalToken} />\n        </>\n      ) : null}\n    </Container>\n  );\n}\n\nexport default App;\n\nconst BackLink = styled.div`\n  display: inline-block;\n  text-decoration: underline;\n  margin-bottom: 20px;\n  cursor: pointer;\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { createGlobalStyle } from \"styled-components\";\nimport { Normalize } from \"styled-normalize\";\n\nconst GlobalStyle = createGlobalStyle`\n\n    * {\n        box-sizing: border-box;\n    }\n\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #123;\n        font-weight: 300;\n        background-color: #f8f8f8;\n        font-size: 13px;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n            monospace;\n    }\n`;\n\nReactDOM.render(\n  <>\n    <Normalize />\n    <GlobalStyle />\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}