(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{14:function(n,e,t){"use strict";(function(n){function r(e){return new Promise(function(t){n(function(){t(e())})})}t.d(e,"a",function(){return r})}).call(this,t(61).setImmediate)},15:function(n,e,t){n.exports=function(){return new Worker(t.p+"7e76318e03e2a8b1ff17.worker.js")}},26:function(n,e,t){n.exports=t.p+"static/media/ComponentIcon.483685cf.svg"},27:function(n,e,t){n.exports=t.p+"static/media/PageIcon.6e637937.svg"},28:function(n,e,t){n.exports=t.p+"static/media/TextIcon.b2843f21.svg"},33:function(n,e,t){n.exports=t(63)},63:function(n,e,t){"use strict";t.r(e);var r=t(2),a=t(0),o=t.n(a),c=t(6),u=t.n(c),i=t(3),l=t(1);function s(){var n=Object(r.a)(["\n      background-color: transparent;\n      color: #123;\n    "]);return s=function(){return n},n}function f(){var n=Object(r.a)(["\n      opacity: 0.2;\n    "]);return f=function(){return n},n}function m(){var n=Object(r.a)(["\n  padding: 0.75em 1em;\n  font-weight: bold;\n  border-radius: 0.25em;\n  background-color: #123;\n  ","\n  color: white;\n  border: 1px solid #123;\n  ","\n"]);return m=function(){return n},n}function d(){var n=Object(r.a)(["\n  margin-bottom: 1em;\n"]);return d=function(){return n},n}function p(){var n=Object(r.a)(["\n  display: block;\n  font-weight: 700;\n  margin-bottom: 0.5em;\n"]);return p=function(){return n},n}function E(){var n=Object(r.a)(['\n  padding: 0.75em;\n  border-radius: 0.25em;\n  border: 1px solid #ccc;\n  width: 100%;\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n']);return E=function(){return n},n}var b=l.default.input(E()),g=l.default.label(p()),v=l.default.div(d()),O=l.default.button(m(),function(n){return n.disabled&&Object(l.css)(f())},function(n){return n.secondary&&Object(l.css)(s())});function h(){var n=Object(r.a)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return h=function(){return n},n}function j(){var n=Object(r.a)(["\n  color: #999;\n"]);return j=function(){return n},n}function k(){var n=Object(r.a)(["\n  margin-bottom: 40px;\n"]);return k=function(){return n},n}var w=l.default.div(k());function T(n){var e=n.personalToken,t=n.onClick;return o.a.createElement(x,null,"Personal Token:"," ",o.a.createElement(D,{onClick:t},e&&e.substr(0,5)+"..."))}var x=l.default.div(j()),D=l.default.span(h());function y(n){var e=n.onChange,t=n.personalToken,r=n.onBlur,c=n.onFocus,u=Object(a.useRef)(null);return o.a.createElement(v,null,o.a.createElement(g,{htmlFor:"personalToken"},"Personal Token"),o.a.createElement(b,{autoComplete:"off",spellCheck:!1,name:"personalToken",value:t||"",onChange:function(n){return e(n.target.value)},onBlur:r,onFocus:c,ref:u,placeholder:"e.g. 12345-12345678-1234-1234-1234-123456789012"}),o.a.createElement("p",null,"Generate a token in Figma's Account Settings page and paste it here."))}var N=function(n){var e=n.onChange,t=n.personalToken,r=Object(a.useState)(!1),c=Object(i.a)(r,2),u=c[0],l=c[1];return o.a.createElement(w,null,!t||u?o.a.createElement(y,{onChange:e,personalToken:t,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}):o.a.createElement(T,{personalToken:t,onClick:function(){return l(!0)}}))};function C(){var n=Object(r.a)(["\n  margin-bottom: 40px;\n"]);return C=function(){return n},n}var I=l.default.div(C());var S=function(n){var e=n.onSubmit,t=n.noTokenYet,r=Object(a.useState)(""),c=Object(i.a)(r,2),u=c[0],l=c[1];return o.a.createElement(I,null,o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),e(u)}},o.a.createElement(v,null,o.a.createElement(g,{htmlFor:"personalToken"},"File ID"),o.a.createElement(b,{autoComplete:"off",spellCheck:!1,name:"personalToken",value:u,onChange:function(n){return l(n.target.value)},placeholder:"e.g. AaBbCcDdEeFfGg12345ABCDE"}),o.a.createElement("p",null,"Use the string of characters inside a Figma file's URL.")),o.a.createElement(v,null,o.a.createElement(O,{type:"submit",disabled:t||!u},"X-Ray this file"))))},M=t(5),L=t.n(M),A=t(32),R=t(16),U=t(25);function F(){var n=Object(r.a)([""]);return F=function(){return n},n}function _(){var n=Object(r.a)(["\n  font-weight: 900;\n  margin-bottom: 0.5em;\n"]);return _=function(){return n},n}function B(){var n=Object(r.a)(["\n      background-color: #123;\n      color: white;\n    "]);return B=function(){return n},n}function Y(){var n=Object(r.a)(["\n  padding: 20px;\n  cursor: pointer;\n  border-radius: 0.5em;\n  margin-right: 20px;\n  background-color: #eee;\n  ","\n"]);return Y=function(){return n},n}function G(){var n=Object(r.a)(["\n  display: flex;\n  margin-bottom: 20px;\n"]);return G=function(){return n},n}var P=l.default.div(G());function z(n){var e=n.name,t=n.count,r=n.onClick,a=n.active;return o.a.createElement(X,{active:a,onClick:r},o.a.createElement(W,null,e),null!==t?o.a.createElement(J,null,t):null)}var X=l.default.div(Y(),function(n){return n.active&&Object(l.css)(B())}),W=l.default.div(_()),J=l.default.div(F()),q=t(26),$=t.n(q),H=t(27),K=t.n(H),Q=t(28),V=t.n(Q);function Z(){var n=Object(r.a)(["\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #ddd;\n  font-weight: bold;\n  padding: 0.2em 0.5em;\n"]);return Z=function(){return n},n}var nn=l.default.span(Z());function en(){var n=Object(r.a)(["\n  color: ",";\n"]);return en=function(){return n},n}function tn(){var n=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return tn=function(){return n},n}function rn(){var n=Object(r.a)(["\n  font-size: 85%;\n  margin-top: 10px;\n  margin-left: 5px;\n"]);return rn=function(){return n},n}function an(){var n=Object(r.a)(["\n  cursor: pointer;\n  font-size: 85%;\n"]);return an=function(){return n},n}function on(){var n=Object(r.a)(["\n      color: ",";\n    "]);return on=function(){return n},n}function cn(){var n=Object(r.a)(["\n  /* font-weight: bold; */\n  color: ",";\n  ","\n"]);return cn=function(){return n},n}function un(){var n=Object(r.a)(["\n  color: ",";\n  font-size: 85%;\n  margin-bottom: 10px;\n"]);return un=function(){return n},n}function ln(){var n=Object(r.a)(["\n  margin: 20px 0;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  img {\n    max-width: 200px;\n    max-height: 200px;\n  }\n"]);return ln=function(){return n},n}function sn(){var n=Object(r.a)(["\n  margin-bottom: 20px;\n  margin-right: 20px;\n  padding: 20px;\n  border-radius: 3px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  box-shadow: rgba(25, 25, 25, 0.06) 0px 7px 15px 0px;\n"]);return sn=function(){return n},n}function fn(n){var e=n.imageData,t=n.node;return o.a.createElement(bn,null,o.a.createElement(vn,null,o.a.createElement(En,{path:t.path})),o.a.createElement(On,{type:"TEXT"},o.a.createElement("img",{src:V.a,alt:"Figma Text Icon"})," ",t.node.name.substr(0,20)),o.a.createElement(dn,{imageData:e,nodeID:t.node.id}))}function mn(n){var e=n.component,t=n.imageData,r=Object(a.useState)(!1),c=Object(i.a)(r,2),u=c[0],l=c[1];return o.a.createElement(bn,null,o.a.createElement(vn,null,o.a.createElement(En,{path:e.path})),o.a.createElement(On,{type:"COMPONENT"},o.a.createElement("img",{src:$.a,alt:"Figma Component Icon"})," ",e.name.substr(0,20)),o.a.createElement(dn,{imageData:t,nodeID:e.id}),o.a.createElement(hn,{onClick:function(){return l(!u)}},o.a.createElement(nn,null,e.count)," ",0===e.count?"instances":1===e.count?"instance...":"instances..."),u?o.a.createElement(pn,{instances:e.instances}):null)}function dn(n){var e=n.imageData,t=n.nodeID;return o.a.createElement(gn,null,e&&e[t]?o.a.createElement("img",{srcSet:e[t]+" 2w",sizes:"1px",src:e[t],alt:"Node Preview"}):o.a.createElement(wn,null))}function pn(n){var e=n.instances;return o.a.createElement(jn,null,e.map(function(n,e){return o.a.createElement(En,{key:e,path:n.path})}))}function En(n){var e=n.path;return e?o.a.createElement("div",null,o.a.createElement("img",{src:K.a,alt:"Figma Page Icon"})," ",e.join(" \u25b8 ")):null}var bn=l.default.div(sn()),gn=l.default.div(ln()),vn=l.default.div(un(),"#999"),On=l.default.div(cn(),"#999",function(n){return"COMPONENT"===n.type&&Object(l.css)(on(),"#7b67fb")}),hn=l.default.div(an()),jn=l.default.div(rn()),kn=l.default.div(tn()),wn=function(){return o.a.createElement(Tn,null,"Loading...")},Tn=l.default.div(en(),"#999");function xn(){var n=Object(r.a)([""]);return xn=function(){return n},n}function Dn(){var n=Object(r.a)(["\n  margin: 10px 0 20px 0;\n  font-weight: 600;\n  padding: 10px;\n  border-left: 3px solid #123;\n"]);return Dn=function(){return n},n}var yn={USAGE:function(n,e){return-1*(n.count>e.count?1:n.count<e.count?-1:0)},NAME:function(n,e){return n.name.localeCompare(e.name)}};function Nn(n){var e=n.subtitle,t=n.components,r=n.imageData,a=n.sort,c=t.length,u=t.slice(0).sort(yn[a]);return o.a.createElement(In,null,o.a.createElement(Cn,null,e),o.a.createElement(kn,null,c>0?u.map(function(n){return o.a.createElement(mn,{key:n.id,component:n,imageData:r})}):"None."))}var Cn=l.default.p(Dn()),In=l.default.section(xn()),Sn=function(n){var e=n.fileID,t=n.fileData,r=n.summary,c=n.imageData,u=n.inlineTextStyleNodes,l=Object(a.useState)("LIBRARY"),s=Object(i.a)(l,2),f=s[0],m=s[1],d=Object(a.useState)("USAGE"),p=Object(i.a)(d,2),E=p[0],b=p[1];return null===t||null===r||null===e?null:o.a.createElement("div",null,o.a.createElement(P,null,o.a.createElement(z,{name:"Library Components",active:"LIBRARY"===f,count:r.LIBRARY.length,onClick:function(){m("LIBRARY")}}),o.a.createElement(z,{name:"Local Components",active:"DOCUMENT"===f,count:r.DOCUMENT.length,onClick:function(){return m("DOCUMENT")}}),o.a.createElement(z,{name:"Deleted Components",active:"DELETED_FROM_DOCUMENT"===f,count:r.DELETED_FROM_DOCUMENT.length,onClick:function(){return m("DELETED_FROM_DOCUMENT")}}),o.a.createElement(z,{name:"Inline Styles",active:"INLINE_STYLES"===f,count:u?u.length:0,onClick:function(){return m("INLINE_STYLES")}})),("LIBRARY"===f||"DOCUMENT"===f||"DELETED_FROM_DOCUMENT"===f)&&o.a.createElement(P,null,o.a.createElement(z,{name:"Sort by Usage",active:"USAGE"===E,onClick:function(){return b("USAGE")}}),o.a.createElement(z,{name:"Sort by Name",active:"NAME"===E,onClick:function(){return b("NAME")}})),"LIBRARY"===f&&o.a.createElement(Nn,{subtitle:"These are the components you've used from the team library.",components:r.LIBRARY,imageData:c,sort:E}),"DOCUMENT"===f&&o.a.createElement(Nn,{subtitle:"If any are not used, consider deleting them.",components:r.DOCUMENT,imageData:c,sort:E}),"DELETED_FROM_DOCUMENT"===f&&o.a.createElement(Nn,{subtitle:"Undiscoverable components. Consider restoring the master, or replace the instance.",components:r.DELETED_FROM_DOCUMENT,imageData:c,sort:E}),"INLINE_STYLES"===f&&o.a.createElement(In,null,o.a.createElement(Cn,null,"These text layers are not connected to any style. Consider defining new styles or assigning to existing ones."),o.a.createElement(kn,null,u&&(u.length>0?u.map(function(n){return o.a.createElement(fn,{key:n.node.id,node:n,imageData:c})}):"None."))))},Mn=t(29),Ln=t.n(Mn),An=function(){return(An=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},Rn=function(n){var e=n.accessToken?{Authorization:"Bearer "+n.accessToken}:{"X-Figma-Token":n.personalAccessToken},t=Ln.a.create({baseURL:"https://"+(n.apiRoot||"api.figma.com")+"/v1/",headers:e});return{client:t,file:function(n,e){return void 0===e&&(e={}),t.get("files/"+n,{params:e})},fileImages:function(n,e){return t.get("images/"+n,{params:An({},e,{ids:e.ids.join(",")})})},comments:function(n){return t.get("files/"+n+"/comments")},postComment:function(n,e){return t.post("files/"+n+"/comments",e)},teamProjects:function(n){return t.get("teams/"+n+"/projects")},projectFiles:function(n){return t.get("projects/"+n+"/files")}}};function Un(n,e){return new Promise(function(t,r){Rn({personalAccessToken:e}).file(n).then(function(n){var e=n.data;t(e)}).catch(r)})}function Fn(n,e,t){return new Promise(function(r,a){Rn({personalAccessToken:e}).fileImages(n,{ids:t,scale:2,format:"png"}).then(function(n){var e=n.data;r(e.images)}).catch(a)})}function _n(n){return"INSTANCE"===n.type?[n]:"children"in n?n.children.map(_n).reduce(function(n,e){return n.concat(e)},[]):[]}function Bn(n,e){return _n(n).filter(function(n){return n.componentId===e})}function Yn(n,e){var t=function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var a=e.name;if(e.id===t)return r;if(!("children"in e))return!1;for(var o=0;o<e.children.length;o+=1){var c=n(e.children[o],t,r.concat(a));if(!1!==c)return c}return!1}(n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return!!t&&t.slice(1)}function Gn(n){var e=function(n){var e=n.components,t={};return Object.keys(e).forEach(function(r){t[r]={component:e[r],count:Bn(n.document,r).length,path:Yn(n.document,r)}}),t}(n),t=Object.keys(e).map(function(t){return{id:t,path:e[t].path,name:e[t].component.name,type:e[t].component.key?"LIBRARY":e[t].path?"DOCUMENT":"DELETED_FROM_DOCUMENT",count:e[t].count,instances:Bn(n.document,t).map(function(e){return{path:Yn(n.document,e.id)}})}}).filter(function(n){return!("LIBRARY"===n.type&&0===n.count)});return{LIBRARY:t.filter(function(n){return"LIBRARY"===n.type}),DOCUMENT:t.filter(function(n){return"DOCUMENT"===n.type}),DELETED_FROM_DOCUMENT:t.filter(function(n){return"DELETED_FROM_DOCUMENT"===n.type})}}var Pn=t(13),zn=t.n(Pn);function Xn(n,e){return n&&"object"===typeof n&&e in n}var Wn=t(14);function Jn(){var n=Object(r.a)(["\n  color: inherit;\n"]);return Jn=function(){return n},n}function qn(){var n=Object(r.a)(["\n  font-weight: 300;\n  color: #999;\n"]);return qn=function(){return n},n}function $n(){var n=Object(r.a)(["\n  font-weight: 900;\n  margin-bottom: 40px;\n"]);return $n=function(){return n},n}function Hn(n){var e=n.fileID,t=n.personalToken,r=Object(a.useState)(null),c=Object(i.a)(r,2),u=c[0],l=c[1],s=Object(a.useState)(null),f=Object(i.a)(s,2),m=f[0],d=f[1],p=Object(a.useState)(null),E=Object(i.a)(p,2),b=E[0],g=E[1],v=Object(a.useState)("NONE"),O=Object(i.a)(v,2),h=O[0],j=O[1],k=Object(a.useState)(null),w=Object(i.a)(k,2),T=w[0],x=w[1],D=Object(a.useState)(null),y=Object(i.a)(D,2),N=y[0],C=y[1];return Object(a.useEffect)(function(){return u&&(window.document.title="X-Ray: "+u.name),function(){window.document.title="X-Ray"}},[u]),Object(a.useEffect)(function(){(function(){var n=Object(U.a)(L.a.mark(function n(){var r,a,o,c,u,i,s,f,m;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return j("LOADING_DOCUMENT"),l(null),x(null),g(null),n.next=6,Un(e,t);case 6:if(r=n.sent,l(r),!r){n.next=34;break}return j("ANALYSING"),n.next=12,Object(Wn.a)(function(){return Gn(r)});case 12:return a=n.sent,d(a),n.next=16,Object(Wn.a)(function(){return n=r,zn()(n.document).reduce(function(e,t){return t&&("INSTANCE"===t.type?this.block():"TEXT"!==t.type||Xn(t,"styles")&&Xn(t.styles,"text")||e.push({node:t,path:Yn(n.document,t.id)})),e},[]);var n});case 16:if(o=n.sent,C(o),c=Object.keys(r.components),u=o.map(function(n){return n.node.id}),!(i=new Set([].concat(Object(R.a)(c),Object(R.a)(u)))).size){n.next=31;break}j("LOADING_IMAGES"),s=50,f=L.a.mark(function n(r){var a;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fn(e,t,Array.from(i).slice(r,r+s));case 2:a=n.sent,x(function(n){return n?Object(A.a)({},n,a):a});case 4:case"end":return n.stop()}},n)}),m=0;case 26:if(!(m<i.size)){n.next=31;break}return n.delegateYield(f(m),"t0",28);case 28:m+=s,n.next=26;break;case 31:j("NONE"),n.next=35;break;case 34:j("NONE");case 35:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}})()().catch(function(n){if(j("NONE"),!n.request)throw n;g(n.message)})},[e,t]),o.a.createElement("div",null,o.a.createElement(Qn,null,u?o.a.createElement(Zn,{target:"_blank",href:"https://www.figma.com/file/".concat(e)},u.name):null," ",o.a.createElement(Vn,null,o.a.createElement(Kn,{loading:h,error:b}))),u?o.a.createElement(Sn,{fileID:e,fileData:u,summary:m,imageData:T,inlineTextStyleNodes:N}):null)}function Kn(n){var e=n.loading,t=n.error;return o.a.createElement(o.a.Fragment,null,t||{NONE:null,LOADING_DOCUMENT:"Loading document...",LOADING_IMAGES:"Loading images...",ANALYSING:"Analysing document..."}[e])}var Qn=l.default.h1($n()),Vn=l.default.span(qn()),Zn=l.default.a(Jn()),ne=t(15),ee=t.n(ne);function te(){var n=Object(r.a)(["\n  display: inline-block;\n  text-decoration: underline;\n  margin-bottom: 20px;\n  cursor: pointer;\n"]);return te=function(){return n},n}function re(){var n=Object(r.a)(["\n  padding: 20px;\n"]);return re=function(){return n},n}var ae=l.default.div(re());var oe=function(){var n=Object(a.useState)(null),e=Object(i.a)(n,2),t=e[0],r=e[1],c=Object(a.useState)(null),u=Object(i.a)(c,2),l=u[0],s=u[1],f=Object(a.useState)(0),m=Object(i.a)(f,2);function d(){var n=window.location.hash.match(/#\/file\/(\w+)/);s(n?n[1]:null)}function p(n){s(n),n?window.history.pushState(null,"","#/file/".concat(n)):window.history.pushState(null,"","#/")}return m[0],m[1],Object(a.useEffect)(function(){var n=window.localStorage.getItem("personalToken")||"";n&&r(n),d(),window.onpopstate=function(){d()};var e=new ee.a;e.postMessage("hello worker 1"),e.addEventListener("message",function(n){console.log("from worker 1",n)});var t=new ee.a;t.postMessage("hello worker 2"),t.addEventListener("message",function(n){console.log("from worker 2",n)})},[]),o.a.createElement(ae,null,o.a.createElement(N,{personalToken:t,onChange:function(n){r(n),window.localStorage.setItem("personalToken",n)}}),!l&&o.a.createElement(S,{onSubmit:p,noTokenYet:!t}),t&&l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ce,{onClick:function(){return p("")}},"Choose another file"),o.a.createElement(Hn,{fileID:l,personalToken:t})))},ce=l.default.div(te());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=t(30);function ie(){var n=Object(r.a)(['\n\n    * {\n        box-sizing: border-box;\n    }\n\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #123;\n        font-weight: 300;\n        background-color: #f8f8f8;\n        font-size: 13px;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n            monospace;\n    }\n']);return ie=function(){return n},n}var le=Object(l.createGlobalStyle)(ie());u.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(ue.Normalize,null),o.a.createElement(le,null),o.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.cd21decc.chunk.js.map