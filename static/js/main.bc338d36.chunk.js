(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t.p+"static/media/ComponentIcon.483685cf.svg"},23:function(e,n,t){e.exports=t.p+"static/media/PageIcon.6e637937.svg"},24:function(e,n,t){e.exports=t.p+"static/media/TextIcon.b2843f21.svg"},26:function(e,n,t){e.exports=function(){return new Worker(t.p+"65a162d46459c0c96bd6.worker.js")}},27:function(e,n,t){e.exports=function(){return new Worker(t.p+"0478b12a33042093fa1a.worker.js")}},31:function(e,n,t){e.exports=t(60)},60:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),o=t.n(r),c=t(6),i=t.n(c),u=t(3),l=t(1);function s(){var e=Object(a.a)(["\n      background-color: transparent;\n      color: #123;\n    "]);return s=function(){return e},e}function m(){var e=Object(a.a)(["\n      opacity: 0.2;\n    "]);return m=function(){return e},e}function f(){var e=Object(a.a)(["\n  padding: 0.75em 1em;\n  font-weight: bold;\n  border-radius: 0.25em;\n  background-color: #123;\n  ","\n  color: white;\n  border: 1px solid #123;\n  ","\n"]);return f=function(){return e},e}function d(){var e=Object(a.a)(["\n  margin-bottom: 1em;\n"]);return d=function(){return e},e}function p(){var e=Object(a.a)(["\n  display: block;\n  font-weight: 700;\n  margin-bottom: 0.5em;\n"]);return p=function(){return e},e}function E(){var e=Object(a.a)(['\n  padding: 0.75em;\n  border-radius: 0.25em;\n  border: 1px solid #ccc;\n  width: 100%;\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n']);return E=function(){return e},e}var b=l.default.input(E()),g=l.default.label(p()),v=l.default.div(d()),O=l.default.button(f(),function(e){return e.disabled&&Object(l.css)(m())},function(e){return e.secondary&&Object(l.css)(s())});function h(){var e=Object(a.a)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return h=function(){return e},e}function j(){var e=Object(a.a)(["\n  color: #999;\n"]);return j=function(){return e},e}function k(){var e=Object(a.a)(["\n  margin-bottom: 40px;\n"]);return k=function(){return e},e}var N=l.default.div(k());function x(e){var n=e.personalToken,t=e.onClick;return o.a.createElement(w,null,"Personal Token:"," ",o.a.createElement(T,{onClick:t},n&&n.substr(0,5)+"..."))}var w=l.default.div(j()),T=l.default.span(h());function S(e){var n=e.onChange,t=e.personalToken,a=e.onBlur,c=e.onFocus,i=Object(r.useRef)(null);return o.a.createElement(v,null,o.a.createElement(g,{htmlFor:"personalToken"},"Personal Token"),o.a.createElement(b,{autoComplete:"off",spellCheck:!1,name:"personalToken",value:t||"",onChange:function(e){return n(e.target.value)},onBlur:a,onFocus:c,ref:i,placeholder:"e.g. 12345-12345678-1234-1234-1234-123456789012"}),o.a.createElement("p",null,"Generate a token in Figma's Account Settings page and paste it here."))}var C=function(e){var n=e.onChange,t=e.personalToken,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],l=c[1];return o.a.createElement(N,null,!t||i?o.a.createElement(S,{onChange:n,personalToken:t,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}}):o.a.createElement(x,{personalToken:t,onClick:function(){return l(!0)}}))};function D(){var e=Object(a.a)(["\n  margin-bottom: 40px;\n"]);return D=function(){return e},e}var I=l.default.div(D());var y=function(e){var n=e.onSubmit,t=e.noTokenYet,a=Object(r.useState)(""),c=Object(u.a)(a,2),i=c[0],l=c[1];return o.a.createElement(I,null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(i)}},o.a.createElement(v,null,o.a.createElement(g,{htmlFor:"personalToken"},"File ID"),o.a.createElement(b,{autoComplete:"off",spellCheck:!1,name:"personalToken",value:i,onChange:function(e){return l(e.target.value)},placeholder:"e.g. AaBbCcDdEeFfGg12345ABCDE"}),o.a.createElement("p",null,"Use the string of characters inside a Figma file's URL.")),o.a.createElement(v,null,o.a.createElement(O,{type:"submit",disabled:t||!i},"X-Ray this file"))))},A=t(5),L=t.n(A),M=t(30),_=t(11),R=t(21);function U(){var e=Object(a.a)([""]);return U=function(){return e},e}function F(){var e=Object(a.a)(["\n  font-weight: 900;\n  margin-bottom: 0.5em;\n"]);return F=function(){return e},e}function Y(){var e=Object(a.a)(["\n      background-color: #123;\n      color: white;\n    "]);return Y=function(){return e},e}function G(){var e=Object(a.a)(["\n  padding: 20px;\n  cursor: pointer;\n  border-radius: 0.5em;\n  margin-right: 20px;\n  background-color: #eee;\n  ","\n"]);return G=function(){return e},e}function B(){var e=Object(a.a)(["\n  display: flex;\n  margin-bottom: 20px;\n"]);return B=function(){return e},e}var P=l.default.div(B());function z(e){var n=e.name,t=e.count,a=e.onClick,r=e.active;return o.a.createElement(X,{active:r,onClick:a},o.a.createElement(W,null,n),null!==t?o.a.createElement(H,null,t):null)}var X=l.default.div(G(),function(e){return e.active&&Object(l.css)(Y())}),W=l.default.div(F()),H=l.default.div(U()),J=t(22),q=t.n(J),$=t(23),K=t.n($),Q=t(24),V=t.n(Q);function Z(){var e=Object(a.a)(["\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #ddd;\n  font-weight: bold;\n  padding: 0.2em 0.5em;\n"]);return Z=function(){return e},e}var ee=l.default.span(Z());function ne(){var e=Object(a.a)(["\n  color: ",";\n"]);return ne=function(){return e},e}function te(){var e=Object(a.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return te=function(){return e},e}function ae(){var e=Object(a.a)(["\n  font-size: 85%;\n  margin-top: 10px;\n  margin-left: 5px;\n"]);return ae=function(){return e},e}function re(){var e=Object(a.a)(["\n  cursor: pointer;\n  font-size: 85%;\n"]);return re=function(){return e},e}function oe(){var e=Object(a.a)(["\n      color: ",";\n    "]);return oe=function(){return e},e}function ce(){var e=Object(a.a)(["\n  /* font-weight: bold; */\n  color: ",";\n  ","\n"]);return ce=function(){return e},e}function ie(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 85%;\n  margin-bottom: 10px;\n"]);return ie=function(){return e},e}function ue(){var e=Object(a.a)(["\n  margin: 20px 0;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  img {\n    max-width: 200px;\n    max-height: 200px;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(a.a)(["\n  margin-bottom: 20px;\n  margin-right: 20px;\n  padding: 20px;\n  border-radius: 3px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  box-shadow: rgba(25, 25, 25, 0.06) 0px 7px 15px 0px;\n"]);return le=function(){return e},e}function se(e){var n=e.imageData,t=e.node;return o.a.createElement(Ee,null,o.a.createElement(ge,null,o.a.createElement(pe,{path:t.path})),o.a.createElement(ve,{type:"TEXT"},o.a.createElement("img",{src:V.a,alt:"Figma Text Icon"})," ",t.node.name.substr(0,20)),o.a.createElement(fe,{imageData:n,nodeID:t.node.id}))}function me(e){var n=e.component,t=e.imageData,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],l=c[1];return o.a.createElement(Ee,null,o.a.createElement(ge,null,o.a.createElement(pe,{path:n.path})),o.a.createElement(ve,{type:"COMPONENT"},o.a.createElement("img",{src:q.a,alt:"Figma Component Icon"})," ",n.name.substr(0,20)),o.a.createElement(fe,{imageData:t,nodeID:n.id}),o.a.createElement(Oe,{onClick:function(){return l(!i)}},o.a.createElement(ee,null,n.count)," ",0===n.count?"instances":1===n.count?"instance...":"instances..."),i?o.a.createElement(de,{instances:n.instances}):null)}function fe(e){var n=e.imageData,t=e.nodeID;return o.a.createElement(be,null,n&&n[t]?o.a.createElement("img",{srcSet:n[t]+" 2w",sizes:"1px",src:n[t],alt:"Node Preview"}):o.a.createElement(ke,null))}function de(e){var n=e.instances;return o.a.createElement(he,null,n.map(function(e,n){return o.a.createElement(pe,{key:n,path:e.path})}))}function pe(e){var n=e.path;return n?o.a.createElement("div",null,o.a.createElement("img",{src:K.a,alt:"Figma Page Icon"})," ",n.join(" \u25b8 ")):null}var Ee=l.default.div(le()),be=l.default.div(ue()),ge=l.default.div(ie(),"#999"),ve=l.default.div(ce(),"#999",function(e){return"COMPONENT"===e.type&&Object(l.css)(oe(),"#7b67fb")}),Oe=l.default.div(re()),he=l.default.div(ae()),je=l.default.div(te()),ke=function(){return o.a.createElement(Ne,null,"Loading...")},Ne=l.default.div(ne(),"#999");function xe(){var e=Object(a.a)([""]);return xe=function(){return e},e}function we(){var e=Object(a.a)(["\n  margin: 10px 0 20px 0;\n  font-weight: 600;\n  padding: 10px;\n  border-left: 3px solid #123;\n"]);return we=function(){return e},e}var Te={USAGE:function(e,n){return-1*(e.count>n.count?1:e.count<n.count?-1:0)},NAME:function(e,n){return e.name.localeCompare(n.name)}};function Se(e){var n=e.subtitle,t=e.components,a=e.imageData,r=e.sort,c=t.length,i=t.slice(0).sort(Te[r]);return o.a.createElement(De,null,o.a.createElement(Ce,null,n),o.a.createElement(je,null,c>0?i.map(function(e){return o.a.createElement(me,{key:e.id,component:e,imageData:a})}):"None."))}var Ce=l.default.p(we()),De=l.default.section(xe()),Ie=function(e){var n=e.fileID,t=e.fileData,a=e.summary,c=e.imageData,i=e.inlineTextStyleNodes,l=Object(r.useState)("LIBRARY"),s=Object(u.a)(l,2),m=s[0],f=s[1],d=Object(r.useState)("USAGE"),p=Object(u.a)(d,2),E=p[0],b=p[1];return null===t||null===a||null===n?null:o.a.createElement("div",null,o.a.createElement(P,null,o.a.createElement(z,{name:"Library Components",active:"LIBRARY"===m,count:a.LIBRARY.length,onClick:function(){f("LIBRARY")}}),o.a.createElement(z,{name:"Local Components",active:"DOCUMENT"===m,count:a.DOCUMENT.length,onClick:function(){return f("DOCUMENT")}}),o.a.createElement(z,{name:"Deleted Components",active:"DELETED_FROM_DOCUMENT"===m,count:a.DELETED_FROM_DOCUMENT.length,onClick:function(){return f("DELETED_FROM_DOCUMENT")}}),o.a.createElement(z,{name:"Inline Styles",active:"INLINE_STYLES"===m,count:i?i.length:0,onClick:function(){return f("INLINE_STYLES")}})),("LIBRARY"===m||"DOCUMENT"===m||"DELETED_FROM_DOCUMENT"===m)&&o.a.createElement(P,null,o.a.createElement(z,{name:"Sort by Usage",active:"USAGE"===E,onClick:function(){return b("USAGE")}}),o.a.createElement(z,{name:"Sort by Name",active:"NAME"===E,onClick:function(){return b("NAME")}})),"LIBRARY"===m&&o.a.createElement(Se,{subtitle:"These are the components you've used from the team library.",components:a.LIBRARY,imageData:c,sort:E}),"DOCUMENT"===m&&o.a.createElement(Se,{subtitle:"If any are not used, consider deleting them.",components:a.DOCUMENT,imageData:c,sort:E}),"DELETED_FROM_DOCUMENT"===m&&o.a.createElement(Se,{subtitle:"Undiscoverable components. Consider restoring the master, or replace the instance.",components:a.DELETED_FROM_DOCUMENT,imageData:c,sort:E}),"INLINE_STYLES"===m&&o.a.createElement(De,null,o.a.createElement(Ce,null,"These text layers are not connected to any style. Consider defining new styles or assigning to existing ones."),o.a.createElement(je,null,i&&(i.length>0?i.map(function(e){return o.a.createElement(se,{key:e.node.id,node:e,imageData:c})}):"None."))))},ye=t(25),Ae=t.n(ye),Le=function(){return(Le=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},Me=function(e){var n=e.accessToken?{Authorization:"Bearer "+e.accessToken}:{"X-Figma-Token":e.personalAccessToken},t=Ae.a.create({baseURL:"https://"+(e.apiRoot||"api.figma.com")+"/v1/",headers:n});return{client:t,file:function(e,n){return void 0===n&&(n={}),t.get("files/"+e,{params:n})},fileImages:function(e,n){return t.get("images/"+e,{params:Le({},n,{ids:n.ids.join(",")})})},comments:function(e){return t.get("files/"+e+"/comments")},postComment:function(e,n){return t.post("files/"+e+"/comments",n)},teamProjects:function(e){return t.get("teams/"+e+"/projects")},projectFiles:function(e){return t.get("projects/"+e+"/files")}}};function _e(e,n){return new Promise(function(t,a){Me({personalAccessToken:n}).file(e).then(function(e){var n=e.data;t(n)}).catch(a)})}function Re(e,n,t){return new Promise(function(a,r){Me({personalAccessToken:n}).fileImages(e,{ids:t,scale:2,format:"png"}).then(function(e){var n=e.data;a(n.images)}).catch(r)})}var Ue=t(26),Fe=t.n(Ue),Ye=t(27),Ge=t.n(Ye);function Be(){var e=Object(a.a)(["\n  color: inherit;\n"]);return Be=function(){return e},e}function Pe(){var e=Object(a.a)(["\n  font-weight: 300;\n  color: #999;\n"]);return Pe=function(){return e},e}function ze(){var e=Object(a.a)(["\n  font-weight: 900;\n  margin-bottom: 40px;\n"]);return ze=function(){return e},e}function Xe(e){var n=e.fileID,t=e.personalToken,a=Object(r.useState)(null),c=Object(u.a)(a,2),i=c[0],l=c[1],s=Object(r.useState)(null),m=Object(u.a)(s,2),f=m[0],d=m[1],p=Object(r.useState)(null),E=Object(u.a)(p,2),b=E[0],g=E[1],v=Object(r.useState)("NONE"),O=Object(u.a)(v,2),h=O[0],j=O[1],k=Object(r.useState)(null),N=Object(u.a)(k,2),x=N[0],w=N[1],T=Object(r.useState)(null),S=Object(u.a)(T,2),C=S[0],D=S[1];return Object(r.useEffect)(function(){return i&&(window.document.title="X-Ray: "+i.name),function(){window.document.title="X-Ray"}},[i]),Object(r.useEffect)(function(){(function(){var e=Object(R.a)(L.a.mark(function e(){var a,r,o,c,i,u,s,m,f,p,E;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j("LOADING_DOCUMENT"),l(null),w(null),g(null),console.time("FETCH_DOCUMENT"),e.next=7,_e(n,t);case 7:if(a=e.sent,l(a),console.timeEnd("FETCH_DOCUMENT"),!a){e.next=48;break}return j("ANALYSING"),console.time("ANALYSIS"),console.time("ANALYSIS_COMPONENT_SUMMARY"),r=new Fe.a,e.next=17,$e(r,a);case 17:return o=e.sent,d(o),r.terminate(),console.timeEnd("ANALYSIS_COMPONENT_SUMMARY"),console.time("ANALYSIS_INLINE_STYLE"),c=new Ge.a,e.next=25,$e(c,a);case 25:if(i=e.sent,D(i),c.terminate(),console.timeEnd("ANALYSIS_INLINE_STYLE"),u=Object.keys(a.components),s=i.map(function(e){return e.node.id}),m=new Set([].concat(Object(_.a)(u),Object(_.a)(s))),console.timeEnd("ANALYSIS"),!m.size){e.next=45;break}j("LOADING_IMAGES"),console.time("LOADING_IMAGES"),f=50,p=L.a.mark(function e(a){var r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(n,t,Array.from(m).slice(a,a+f));case 2:r=e.sent,w(function(e){return e?Object(M.a)({},e,r):r});case 4:case"end":return e.stop()}},e)}),E=0;case 39:if(!(E<m.size)){e.next=44;break}return e.delegateYield(p(E),"t0",41);case 41:E+=f,e.next=39;break;case 44:console.timeEnd("LOADING_IMAGES");case 45:j("NONE"),e.next=49;break;case 48:j("NONE");case 49:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()().catch(function(e){if(j("NONE"),!e.request)throw e;g(e.message)})},[n,t]),o.a.createElement("div",null,o.a.createElement(He,null,i?o.a.createElement(qe,{target:"_blank",href:"https://www.figma.com/file/".concat(n)},i.name):null," ",o.a.createElement(Je,null,o.a.createElement(We,{loading:h,error:b}))),i?o.a.createElement(Ie,{fileID:n,fileData:i,summary:f,imageData:x,inlineTextStyleNodes:C}):null)}function We(e){var n=e.loading,t=e.error;return o.a.createElement(o.a.Fragment,null,t||{NONE:null,LOADING_DOCUMENT:"Loading document...",LOADING_IMAGES:"Loading images...",ANALYSING:"Analysing document..."}[n])}var He=l.default.h1(ze()),Je=l.default.span(Pe()),qe=l.default.a(Be());function $e(e,n){return new Promise(function(t,a){e.addEventListener("message",function(e){t(e.data)}),e.postMessage(n)})}function Ke(){var e=Object(a.a)(["\n  display: inline-block;\n  text-decoration: underline;\n  margin-bottom: 20px;\n  cursor: pointer;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(a.a)(["\n  padding: 20px;\n"]);return Qe=function(){return e},e}var Ve=l.default.div(Qe());var Ze=function(){var e=Object(r.useState)(null),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(null),i=Object(u.a)(c,2),l=i[0],s=i[1];function m(){var e=window.location.hash.match(/#\/file\/(\w+)/);s(e?e[1]:null)}function f(e){s(e),e?window.history.pushState(null,"","#/file/".concat(e)):window.history.pushState(null,"","#/")}return Object(r.useEffect)(function(){var e=window.localStorage.getItem("personalToken")||"";e&&a(e),m(),window.onpopstate=function(){m()}},[]),o.a.createElement(Ve,null,o.a.createElement(C,{personalToken:t,onChange:function(e){a(e),window.localStorage.setItem("personalToken",e)}}),!l&&o.a.createElement(y,{onSubmit:f,noTokenYet:!t}),t&&l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(en,{onClick:function(){return f("")}},"Choose another file"),o.a.createElement(Xe,{fileID:l,personalToken:t})))},en=l.default.div(Ke());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nn=t(28);function tn(){var e=Object(a.a)(['\n\n    * {\n        box-sizing: border-box;\n    }\n\n    body {\n        margin: 0;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        color: #123;\n        font-weight: 300;\n        background-color: #f8f8f8;\n        font-size: 13px;\n    }\n\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n            monospace;\n    }\n']);return tn=function(){return e},e}var an=Object(l.createGlobalStyle)(tn());i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(nn.Normalize,null),o.a.createElement(an,null),o.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.bc338d36.chunk.js.map